<html lang="en">
  <head>
<meta name="description" content="User interface of EEBench an open source, open access low cost
   oscilloscope and arbitrary waveform generator based on FPGA BASYS3 and nodejs JavaScript" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="../css/style.css" media="all" />
    <title>Installation Node EEBench</title>
 <style>
.slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 10px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 10px;
  height: 20px;
  background: #0067a5;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 10px;
  height: 20px;
  background: #0067a5;
  cursor: pointer;
}

.nobr { white-space: nowrap }

table.bx { border-collapse: collapse; }

table.bo, tr.bo, th.bo, td.bo {  border: 1px solid black; border-collapse: collapse; padding-left: 10px; 
padding-right: 10px;
}

table.bo0, tr.bo0, th.bo0, td.bo0 { border: 3px solid black; border-collapse: collapse;}
table.bo1, tr.bo1, th.bo1, td.bo1 { border: 3px solid #FF8C00; border-collapse: collapse;}
table.bo2, tr.bo2, th.bo2, td.bo2 { border: 3px solid #0000FF; border-collapse: collapse;}
table.bo3, tr.bo3, th.bo3, td.bo3 { border: 3px solid #FF1493; border-collapse: collapse;}
table.bo4, tr.bo4, th.bo4, td.bo4 { border: 3px solid #008000; border-collapse: collapse;}
table.bo5, tr.bo5, th.bo5, td.bo5 { border: 3px solid #FF4500; border-collapse: collapse;}
table.bo6, tr.bo6, th.bo6, td.bo6 { border: 3px solid #4682B4; border-collapse: collapse;}
table.bo7, tr.bo7, th.bo7, td.bo7 { border: 3px solid #DC143C; border-collapse: collapse;}
table.bo8, tr.bo8, th.bo8, td.bo8 { border: 3px solid #ABABAB; border-collapse: collapse;}

table.tb, tr.tb, th.tb, td.tb { border: 3px solid black; background: #ABABAB; border-collapse: collapse;}
table.tbs, tr.tbs, th.tbs, td.tbs { border-top: 3px solid black; border-left: 3px solid black; 
border-right: 3px solid black; background: white; border-collapse: collapse;}
td.tbr:last-child { width:100%; border-bottom: 3px solid black; background: white; border-collapse: collapse;}
td.top {vertical-align: top;}

</style> 
  </head>
  
<!-- load socket.io Google -->
<script src="../node_modules/socket.io/client-dist/socket.io.js"></script>
<!-- load JQuery -->
<SCRIPT SRC="../scripts/jquery.js"> </SCRIPT>
<!-- load Chart module-->
   <script type="text/javascript" src="../Chart_2013_03_11/Chart_basic.js"></script>
<!-- load FFT module-->
  <script type="text/javascript" src="../FFT/dspFFT.js"></script>
  <body>
  <div id="headx" style="display:block">
  <div id="nheader1" style="background-color:#0067a5;color:#FFFFFF" align="right" >
     <a href="http://www.hochschule-kempten.de" style="color:#FFFFFF"> Hochschule Kempten &nbsp; &nbsp; &nbsp; </a>
  </div>
  <div id="nheader2" style="background-color:#05adb5;color:#FFFFFF" align="right" >
     <a href="http://www.hochschule-kempten.de/about-kempten-university/faculties/electrical-engineering.html?L=1" style="color:#FFFFFF">
	 Fakult&auml;t Elektrotechnik &nbsp; &nbsp; &nbsp;
  </div>
  <div id="nheader3" style="background-color:#f18700;color:#FFFFFF" align="right">
     <a href="Elektronik.html" style="background-color:#f18700;color:#FFFFFF"> 
	 Elektronik &nbsp; &nbsp; &nbsp;</a>
    <a href="http://www.hochschule-kempten.de/metanavigation/personen/detailansicht.html?typo3state=persons&lsfid=1000430" style="background-color:#f18700;color:#FFFFFF"> 
	 Fachgebiet Elektronik, Prof. Vollrath &nbsp; &nbsp; &nbsp;</a>
  </div>
  </div>
  <br>

Download zip file
<a href="https://personalpages.hs-kempten.de/~vollratj/InEl/Zip/NodeEEBench.zip" class="blue">NodeEEBench.zip</a><br>
Unzip file into C:\temp on a Windows PC creating a subdirectory NodeEEBench.<br>
Change to subdirectory c:\temp\NodeEEBench.<br>
<br>

<h1>Installation Simulation</h1>
 
<ol>
<li>Start NodeEEBench.bat by double clicking<br>
    This starts a node program for a webserver: ServerEEBench.js<br>
    A command line window opens monitoring the serial communication between server 
	and web interface. Since no attached Arduino or FPGA is detected Simulation is started.</li>
<li>Open with the browser 'localhost:3000'<br>
    This delivers the file 'Projekte/NEEBench.html' with the user interface</li>
<li> Select the Simulation<br>
     Start the waveform generator<br>
	 Start the oscilloscope and look at the waveform</li>
</ol><br>

<h1>Installation FPGA BASYS 3</h1>

<ol>
<li>Wire and connect BASYS3 FPGA board to your PC</li>
<li>(Download) Open Vivado 19.1 </li>
<li>Open project in folder Xilinx/EEBench/EEBench.xpr compile and transfer bit file 
    into FPGA or better into Flash memory.</li>
<li>(Edit NodeEEBench.bat and adjust the path according to your installed node.exe)</li>
<li>Start NodeEEBench.bat by double clicking<br>
    This starts a node program for a webserver: ServerEEBench.js<br>
    A command line window opens monitoring the serial communication between Arduino 
	and web interface	</li>
<li>Open with the browser 'localhost:3000'<br>
    This delivers the file 'Projekte/NEEBench.html' with the user interface</li>
<li> Select the BASYS 3 board<br>
     Start the waveform generator<br>
	 Start the oscilloscope and look at the waveform</li>
</ol>
<br>
<h1>Installation Arduino MKR 1010 Wifi</h1>

<ol>
<li>Wire and connect the Arduino MKR 1010 Wifi board to your PC</li>
<li>Open project in folder Arduino/EEBench/EEBench.ino compile and transfer program<br>
    Library Arduino MKR Wifi 1010 for SAMD boards should be installed</li>
<li>(Edit NodeEEBench.bat and adjust the path according to your installed node.exe)</li>
<li>Start NodeEEBench.bat by double clicking<br>
    This starts a node program for a webserver: ServerEEBench.js<br>
	A command line window opens monitoring the serial communication between Arduino 
	and web interface</li>
<li>Open with the browser 'localhost:3000'<br>
    This delivers the file 'Projekte/NEEBench.html' with the user interface</li>
<li> Select the Arduino board<br>
     Start the waveform generator<br>
	 Start the oscilloscope and look at the waveform</li>
</ol>
<br>

<br>
<h1>Testing and Verification (6.8.2025 NodeEEBenchV20250806.zip)</h1>

FPGA, Arduino and Simulation Sine, Pulse, triangle,staircase was tested with 
internal and external oscilloscope and FFT. Arduino showed some 
timing errors and some FFT bleeding. <br>

<br>
<h1>Testing and Verification (1.4.2025 NodeEEBench_V09.zip)</h1>

<h2>Arduino</h2>
<br>

<ol>
<li>AWG1</li>
<ul>
<li> Sine signal 20 Hz, Amplitude: 1V, Offset: 1 V, 'Run'<br>
     Measurement DAC0, Pmod DA2 (20ms/div): 19.8 Hz, Amplitude: 1V, Average 980 mV<br>
	 Measurement (1ms/div): sample rate 1.3 kHz, 760us</li>
<li> Sine signal frequency range: 0.2 Hz, 2 Hz, 100 Hz (94 Hz), 200 Hz (186 Hz), <span style="color:red;">500 Hz (124 Hz)</span></li>
<li> Pulse signal frequency range: 2 Hz (1.86 Hz), 100 Hz (94 Hz), 200 Hz (188 Hz), 500 Hz (470 Hz)</li>
<li> Triangle signal frequency range: 2 Hz (1.86 Hz), 20 Hz (19.6 Hz), <span style="color:red;">100 Hz (50 Hz), 200 Hz (135 Hz), 500 Hz (beat)</span></li>
<li> Stair signal frequency range: 2 Hz (1.86 Hz), 20 Hz (18.8 Hz), 100 Hz (93 Hz), <span style="color:red;">200 Hz (70 Hz), 500 Hz (120 Hz)</span></li>
<li> Range 20 Hz: Amplitude 1.65 V, Offset 1.65 V all waveforms ok<br>
     <span style="color:red;">Range outside of 0..3.3 V not working, last setting remains<br>
	 should be cut off with min, max in display and reality</span></li>
<li>Frequency range sine pulse: maximum: 200 Hz <br>
    Output voltage range: 0 .. 3.3 V</li>
</ul>
<li>Oscilloscope<br>
    </li>
</ol>

<br>
	  <div id="footer" style="background-color:#0067a5;color:#FFFFFF">
<br>
 &nbsp; Hochschule für angewandte Wissenschaften Kempten, Jörg Vollrath, Bahnhofstraße 61 · 87435 Kempten<br>
 &nbsp; Tel. 0831/25 23-0 · Fax 0831/25 23-104 · E-Mail: joerg.vollrath(at)fh-kempten.de <br>
 <a href="http://www.hochschule-kempten.de/metanavigation/impressum.html"> 
  <div style="background-color:#0067a5;color:#FFFFFF"> Impressum </div> </a>
 </div>

</div>
       <script type="text/javascript"> 
<!-- Begin
	function myQR() {
			var qr = new JSQR();							// Initialize a new JSQR object.
			var code = new qr.Code();						// Initialize a new Code object.

			code.encodeMode = code.ENCODE_MODE.BYTE;			// Set the code datatype.
			code.version = code.DEFAULT;						// Set the code version
														// (DEFAULT = use the smallest possible version).
			code.errorCorrection = code.ERROR_CORRECTION.H;		// Set the error correction level (H = High).

			var input = new qr.Input();						// Initialize a new Input object.
			input.dataType = input.DATA_TYPE.TEXT;			 	// Specify the data type of 'data'.
														// Here, 'data' contains only text.
			var stX = window.location.pathname;					// Specify the data which should be encoded.
            
			// alert(stX);
			if (stX.substr(0,3) == "/D:") {  // File name local transfer to https
			   stX = "https://personalpages.hs-kempten.de/~vollratj/" 
			        + stX.substr(27,stX.length-27);
			} else 	if (stX.substr(0,3) == "/C:") {  // File name local transfer to https
			   stX = "https://personalpages.hs-kempten.de/~vollratj/" 
			        + stX.substr(52,stX.length-52);
			} else{
			   stX = "https://personalpages.hs-kempten.de"+stX;
			}
			// alert(stX);
			input.data = stX
			
			var matrix = new qr.Matrix(input, code);			// Initialize a new Matrix object using the input
														// and code, defined above.
														// At this point, the QR Code get generated.

			matrix.scale = 4;								// Specify the scaling for graphic output.
			matrix.margin = 2;								// Specify the margin for graphic output.

			var canvas = document.getElementById('thisQR');		// Create a new Canvas element.
			canvas.setAttribute('width', matrix.pixelWidth);		// Set the canvas width to the size of the QR code.
			canvas.setAttribute('height', matrix.pixelWidth);		// Set the canvas height to the size of the QR code.
			canvas.getContext('2d').fillStyle = 'rgb(0,0,0)';		// Set the foreground color of the canvas to black.
			matrix.draw(canvas, 0, 0);						// Draw the QR code into the canvas
														// at position 0 (left), 0 (top).
		};
        myQR();

        setSlideIndex(0);
        showSlidesP();

	    updateServerLog("GET2","EI_ProjektPraktikum");
 //  End -->
	  </script>
 
</body>
</html>
